{"ID":"20250511145858-fadtyja","Spec":"2","Type":"NodeDocument","Properties":{"id":"20250511145858-fadtyja","title":"C# Class和Struct的使用场景","type":"doc","updated":"20250511145930"},"Children":[{"ID":"20250511145921-ruzcyw7","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250511145921-ruzcyw7","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"1. 使用"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"的场景"}]},{"ID":"20250511145921-xxunwww","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250511145921-xxunwww","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"(1) 需要引用语义"}]},{"ID":"20250511145921-yy6505k","Type":"NodeList","ListData":{},"Properties":{"id":"20250511145921-yy6505k","updated":"20250511145921"},"Children":[{"ID":"20250511145921-86e7cwu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-86e7cwu","updated":"20250511145921"},"Children":[{"ID":"20250511145921-dnrgnd9","Type":"NodeParagraph","Properties":{"id":"20250511145921-dnrgnd9","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"共享状态"},{"Type":"NodeText","Data":"：当多个变量需要引用同一个对象实例，并且修改一个变量会影响其他所有引用时，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":"​。\ncsharp"}]},{"ID":"20250511145921-ztlwhro","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250511145921-ztlwhro","updated":"20250511145921"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3NoYXJw"},{"Type":"NodeCodeBlockCode","Data":"public class PointClass {\n    public int X;\n    public int Y;\n}\n\n// 两个变量引用同一个实例\nPointClass a = new PointClass();\nPointClass b = a;\nb.X = 10; // 修改 b 会影响 a\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20250511145921-sttn9td","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250511145921-sttn9td","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"(2) 继承和多态"}]},{"ID":"20250511145921-93rfexb","Type":"NodeList","ListData":{},"Properties":{"id":"20250511145921-93rfexb","updated":"20250511145921"},"Children":[{"ID":"20250511145921-h9t9m3a","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-h9t9m3a","updated":"20250511145921"},"Children":[{"ID":"20250511145921-i7h5jjm","Type":"NodeParagraph","Properties":{"id":"20250511145921-i7h5jjm","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"需要继承"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":"​ 支持继承，可以创建基类和派生类的层次结构。"}]}]},{"ID":"20250511145921-opb8wpj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-opb8wpj","updated":"20250511145921"},"Children":[{"ID":"20250511145921-rvpiotu","Type":"NodeParagraph","Properties":{"id":"20250511145921-rvpiotu","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"需要接口实现"},{"Type":"NodeText","Data":"：通过接口实现多态行为。\ncsharp"}]},{"ID":"20250511145921-jxs6kcy","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250511145921-jxs6kcy","updated":"20250511145921"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3NoYXJw"},{"Type":"NodeCodeBlockCode","Data":"public interface IShape {\n    double Area();\n}\n\npublic class Circle : IShape {\n    public double Radius { get; set; }\n    public double Area() =\u003e Math.PI * Radius * Radius;\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20250511145921-w4jy33z","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250511145921-w4jy33z","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"(3) 复杂的生命周期管理"}]},{"ID":"20250511145921-3n8mt7x","Type":"NodeList","ListData":{},"Properties":{"id":"20250511145921-3n8mt7x","updated":"20250511145921"},"Children":[{"ID":"20250511145921-gpkpm68","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-gpkpm68","updated":"20250511145921"},"Children":[{"ID":"20250511145921-0307wjs","Type":"NodeParagraph","Properties":{"id":"20250511145921-0307wjs","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"需要析构函数"},{"Type":"NodeText","Data":"：当对象需要在销毁时执行清理操作（如释放非托管资源），使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":"​。"}]}]},{"ID":"20250511145921-d6xki8k","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-d6xki8k","updated":"20250511145921"},"Children":[{"ID":"20250511145921-p0sty4o","Type":"NodeParagraph","Properties":{"id":"20250511145921-p0sty4o","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"需要延迟初始化"},{"Type":"NodeText","Data":"：可以通过 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​ 判断对象是否已初始化。"}]}]}]},{"ID":"20250511145921-g9sfuwd","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250511145921-g9sfuwd","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"2. 使用"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"的场景"}]},{"ID":"20250511145921-blr217y","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250511145921-blr217y","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"(1) 需要值语义"}]},{"ID":"20250511145921-c1cqj8l","Type":"NodeList","ListData":{},"Properties":{"id":"20250511145921-c1cqj8l","updated":"20250511145921"},"Children":[{"ID":"20250511145921-jg6wyo7","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-jg6wyo7","updated":"20250511145921"},"Children":[{"ID":"20250511145921-xwq5a2k","Type":"NodeParagraph","Properties":{"id":"20250511145921-xwq5a2k","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"独立拷贝"},{"Type":"NodeText","Data":"：当变量的每次赋值都应该创建独立的副本时，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​。\ncsharp"}]},{"ID":"20250511145921-0hxdnpu","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250511145921-0hxdnpu","updated":"20250511145921"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3NoYXJw"},{"Type":"NodeCodeBlockCode","Data":"public struct PointStruct {\n    public int X;\n    public int Y;\n}\n\n// 赋值时创建副本\nPointStruct a = new PointStruct();\nPointStruct b = a;\nb.X = 10; // 修改 b 不会影响 a\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20250511145921-oh7sk26","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250511145921-oh7sk26","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"(2) 轻量级数据存储"}]},{"ID":"20250511145921-zdc99jm","Type":"NodeList","ListData":{},"Properties":{"id":"20250511145921-zdc99jm","updated":"20250511145921"},"Children":[{"ID":"20250511145921-i0zv3y5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-i0zv3y5","updated":"20250511145921"},"Children":[{"ID":"20250511145921-6vzilia","Type":"NodeParagraph","Properties":{"id":"20250511145921-6vzilia","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"数据简单且频繁使用"},{"Type":"NodeText","Data":"：例如数学向量、坐标点、日期时间等，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 的内存分配和回收更高效。"}]}]},{"ID":"20250511145921-rayrdpr","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-rayrdpr","updated":"20250511145921"},"Children":[{"ID":"20250511145921-sfu1b8b","Type":"NodeParagraph","Properties":{"id":"20250511145921-sfu1b8b","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"避免堆分配开销"},{"Type":"NodeText","Data":"：大量小对象使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 可以减少垃圾回收压力。"}]}]}]},{"ID":"20250511145921-7z91pac","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250511145921-7z91pac","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"(3) 性能敏感场景"}]},{"ID":"20250511145921-4gsqnlj","Type":"NodeList","ListData":{},"Properties":{"id":"20250511145921-4gsqnlj","updated":"20250511145921"},"Children":[{"ID":"20250511145921-eqpbucu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-eqpbucu","updated":"20250511145921"},"Children":[{"ID":"20250511145921-18fg2ne","Type":"NodeParagraph","Properties":{"id":"20250511145921-18fg2ne","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"频繁创建和销毁"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 在栈上分配，创建和销毁的成本更低。"}]}]},{"ID":"20250511145921-u53owxu","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-u53owxu","updated":"20250511145921"},"Children":[{"ID":"20250511145921-rnhxmim","Type":"NodeParagraph","Properties":{"id":"20250511145921-rnhxmim","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"作为集合元素"},{"Type":"NodeText","Data":"：如果作为数组或列表的元素，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 可以减少堆内存碎片。"}]}]}]},{"ID":"20250511145921-5ap21y7","Type":"NodeHeading","HeadingLevel":4,"Properties":{"id":"20250511145921-5ap21y7","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"(4) 不可变性设计"}]},{"ID":"20250511145921-uqiwoub","Type":"NodeList","ListData":{},"Properties":{"id":"20250511145921-uqiwoub","updated":"20250511145921"},"Children":[{"ID":"20250511145921-0vqv9i5","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-0vqv9i5","updated":"20250511145921"},"Children":[{"ID":"20250511145921-0vw84iz","Type":"NodeParagraph","Properties":{"id":"20250511145921-0vw84iz","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"设计为不可变类型"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 通常建议设计为不可变（即所有字段为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"readonly"},{"Type":"NodeText","Data":"​），避免共享状态的副作用。\ncsharp"}]},{"ID":"20250511145921-qa204j3","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20250511145921-qa204j3","updated":"20250511145921"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"Y3NoYXJw"},{"Type":"NodeCodeBlockCode","Data":"public struct Point {\n    public readonly int X;\n    public readonly int Y;\n    public Point(int x, int y) =\u003e (X, Y) = (x, y);\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]}]}]},{"ID":"20250511145921-ob76g8w","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250511145921-ob76g8w","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"3. 关键区别总结"}]},{"ID":"20250511145921-z5l4o7x","Type":"NodeTable","TableAligns":[0,0,0],"Properties":{"colgroup":"||","id":"20250511145921-z5l4o7x","updated":"20250511145921"},"Children":[{"Type":"NodeTableHead","Data":"thead","Children":[{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"特性"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"class（引用类型）"}]},{"Type":"NodeTableCell","Data":"th","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"struct（值类型）"}]}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"内存分配"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"堆（Heap）"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"栈（Stack）或随引用类型在堆上"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"生命周期"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"由垃圾回收（GC）管理"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"方法返回时销毁或随对象销毁"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"拷贝方式"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"复制引用（共享实例）"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"复制整个实例"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"默认值"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"null"},{"Type":"NodeText","Data":"​"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"字段初始化为默认值（如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"0"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"false"},{"Type":"NodeText","Data":"​）"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"继承"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"支持继承和多态"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"不支持继承（但可实现接口）"}]}]},{"Type":"NodeTableRow","Data":"tr","Children":[{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"适用场景"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"复杂对象、共享状态、继承"}]},{"Type":"NodeTableCell","Data":"td","Children":[{"Type":"NodeText","Data":"轻量级数据、独立拷贝、性能敏感"}]}]}]},{"ID":"20250511145921-1wgtq8d","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20250511145921-1wgtq8d","updated":"20250511145930"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"4. 设计建议"}]},{"ID":"20250511145921-nh7d01d","Type":"NodeList","ListData":{},"Properties":{"id":"20250511145921-nh7d01d","updated":"20250511145921"},"Children":[{"ID":"20250511145921-gv4kqos","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-gv4kqos","updated":"20250511145921"},"Children":[{"ID":"20250511145921-s2ws5r1","Type":"NodeParagraph","Properties":{"id":"20250511145921-s2ws5r1","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"优先考虑"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":"​：除非明确需要值语义或性能优势，否则使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":"​。"}]}]},{"ID":"20250511145921-s8o1bwj","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-s8o1bwj","updated":"20250511145921"},"Children":[{"ID":"20250511145921-rfyrerf","Type":"NodeParagraph","Properties":{"id":"20250511145921-rfyrerf","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"避免在"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"中定义引用类型字段"},{"Type":"NodeText","Data":"：如果 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 包含引用类型字段，拷贝时会复制引用而非对象本身，可能导致意外的共享状态。"}]}]},{"ID":"20250511145921-jc9x6xl","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-jc9x6xl","updated":"20250511145921"},"Children":[{"ID":"20250511145921-ib9f5pg","Type":"NodeParagraph","Properties":{"id":"20250511145921-ib9f5pg","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"保持"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ "},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"小而简单"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 的设计应避免复杂逻辑，主要用于存储数据。"}]}]},{"ID":"20250511145921-o6uua8l","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20250511145921-o6uua8l","updated":"20250511145921"},"Children":[{"ID":"20250511145921-uf58mro","Type":"NodeParagraph","Properties":{"id":"20250511145921-uf58mro","updated":"20250511145921"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"使用"},{"Type":"NodeText","Data":" "},{"Type":"NodeTextMark","TextMarkType":"strong code","TextMarkTextContent":"readonly struct"},{"Type":"NodeText","Data":"​：如果 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​ 是不可变的，使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"readonly"},{"Type":"NodeText","Data":"​ 关键字可以进一步优化性能。"}]}]}]},{"ID":"20250511145921-wrrb64c","Type":"NodeParagraph","Properties":{"id":"20250511145921-wrrb64c","updated":"20250511145921"},"Children":[{"Type":"NodeText","Data":"例如，在 Unity 中，"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Vector3"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Quaternion"},{"Type":"NodeText","Data":"​ 等数学类型通常设计为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"struct"},{"Type":"NodeText","Data":"​，因为它们需要频繁使用且追求高性能；而游戏对象的组件（如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"MonoBehaviour"},{"Type":"NodeText","Data":"​ 的子类）则必须是 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"class"},{"Type":"NodeText","Data":"​，因为需要继承和多态特性。"}]},{"ID":"20250511145930-hvipjyc","Type":"NodeParagraph","Properties":{"id":"20250511145930-hvipjyc","updated":"20250511145930"}}]}