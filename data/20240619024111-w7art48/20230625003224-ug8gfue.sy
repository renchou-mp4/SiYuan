{"ID":"20230625003224-ug8gfue","Spec":"2","Type":"NodeDocument","Properties":{"id":"20230625003224-ug8gfue","scroll":"{\u0026quot;rootId\u0026quot;:\u0026quot;20230625003224-q3fo4nd\u0026quot;,\u0026quot;startId\u0026quot;:\u0026quot;20230625003224-mk6jw2e\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230625003224-c2pfftp\u0026quot;,\u0026quot;scrollTop\u0026quot;:2452,\u0026quot;focusId\u0026quot;:\u0026quot;20230625003224-mk6jw2e\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0}","title":"Git Reset和Git Revert","type":"doc","updated":"20230625002532"},"Children":[{"ID":"20230625003224-g7aup1s","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230625003224-g7aup1s","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Git Reset"}]},{"ID":"20230625003224-gmhpjtz","Type":"NodeParagraph","Properties":{"id":"20230625003224-gmhpjtz","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Git Reset可以用来："}]},{"ID":"20230625003224-68akul8","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230625003224-68akul8","updated":"20230625001922"},"Children":[{"ID":"20230625003224-r8xrcyr","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230625003224-r8xrcyr","style":"color: var(--b3-font-color12);","updated":"20230625001922"},"Children":[{"ID":"20230625003224-hsurfsl","Type":"NodeParagraph","Properties":{"id":"20230625003224-hsurfsl","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"移动Git HEAD到指定的提交上。"}]}]},{"ID":"20230625003224-g3keled","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230625003224-g3keled","style":"color: var(--b3-font-color12);","updated":"20230625001922"},"Children":[{"ID":"20230625003224-c220cnj","Type":"NodeParagraph","Properties":{"id":"20230625003224-c220cnj","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Git Reset可以撤销本地仓库中的修改。"}]}]},{"ID":"20230625003224-29o6jz7","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20230625003224-29o6jz7","style":"color: var(--b3-font-color12);","updated":"20230625001922"},"Children":[{"ID":"20230625003224-lt1mpqx","Type":"NodeParagraph","Properties":{"id":"20230625003224-lt1mpqx","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Git Reset可以修正推送到远端仓库的错误，但是使用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"git reset"},{"Type":"NodeText","Data":"​后本地仓库的提交历史会被修改，这与远端的仓库历史不符合，git会拒绝推送到远端。若真的需要推送到远端，需要使用强制推送"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"git push -f"},{"Type":"NodeText","Data":"​，这可能会导致其他成员的工作错误或冲突，因此必须做好沟通。"}]}]}]},{"ID":"20230625003224-9aahlr5","Type":"NodeParagraph","Properties":{"id":"20230625003224-9aahlr5","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"使用的时候会有3种选择：Soft、Hard|、Mixed"}]},{"ID":"20230625003224-qd3s7r8","Type":"NodeParagraph","Properties":{"id":"20230625003224-qd3s7r8","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Soft："}]},{"ID":"20230625003224-o7sr7wa","Type":"NodeParagraph","Properties":{"id":"20230625003224-o7sr7wa","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Soft选项只改变HEAD的位置，不改变暂存区和工作区的文件。即你做的修改仍然存在，相当于只是没有推送到本地仓库。"}]},{"ID":"20230625003224-7aw3bsh","Type":"NodeParagraph","Properties":{"id":"20230625003224-7aw3bsh","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Hard："}]},{"ID":"20230625003224-gja5jl3","Type":"NodeParagraph","Properties":{"id":"20230625003224-gja5jl3","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Hard选项不仅会改变HEAD的位置，还会撤销你所有的修改。你本次提交的修改都将不存在。相当于上次提交之后你什么也没干。"}]},{"ID":"20230625003224-61lciit","Type":"NodeParagraph","Properties":{"id":"20230625003224-61lciit","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Mixed："}]},{"ID":"20230625003224-6fv8ioi","Type":"NodeParagraph","Properties":{"id":"20230625003224-6fv8ioi","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Mixed选项是默认选项，它会移动HEAD的位置，并撤销暂存区的文件。相当于你对文件做了修改，但是还没有放到暂存区中。"}]},{"ID":"20230625003224-5cs3cp8","Type":"NodeParagraph","Properties":{"id":"20230625003224-5cs3cp8","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230624225043-ndm640e.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20230625003224-ikihofr","Type":"NodeHeading","HeadingLevel":3,"Properties":{"id":"20230625003224-ikihofr","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Git Reset本地分支需要和远端匹配"}]},{"ID":"20230625003224-kqo695c","Type":"NodeParagraph","Properties":{"id":"20230625003224-kqo695c","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"当你reset本地分支（推送的时候远端也会reset时），若其他成员已经提交了新的修改，那么可以："}]},{"ID":"20230625003224-4x5s74n","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230625003224-4x5s74n","updated":"20230625001922"},"Children":[{"ID":"20230625003224-3l4p8v0","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230625003224-3l4p8v0","updated":"20230625001922"},"Children":[{"ID":"20230625003224-6lw33y2","Type":"NodeParagraph","Properties":{"id":"20230625003224-6lw33y2","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"先从远端获取fetch所有的更新"}]}]},{"ID":"20230625003224-tmep8hi","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230625003224-tmep8hi","updated":"20230625001922"},"Children":[{"ID":"20230625003224-c60094j","Type":"NodeParagraph","Properties":{"id":"20230625003224-c60094j","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"reset自己的修改"}]}]}]},{"ID":"20230625003224-83bnkqn","Type":"NodeParagraph","Properties":{"id":"20230625003224-83bnkqn","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"如果在你获取远端更新之前想要保存自己的修改，那么可以："}]},{"ID":"20230625003224-73tw8n4","Type":"NodeList","ListData":{"Typ":1},"Properties":{"id":"20230625003224-73tw8n4","updated":"20230625001922"},"Children":[{"ID":"20230625003224-ixl6cf5","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"MS4=","Num":1},"Properties":{"id":"20230625003224-ixl6cf5","updated":"20230625001922"},"Children":[{"ID":"20230625003224-cjs6e4y","Type":"NodeParagraph","Properties":{"id":"20230625003224-cjs6e4y","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"创建一个临时的分支"}]}]},{"ID":"20230625003224-itum13c","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"Mi4=","Num":2},"Properties":{"id":"20230625003224-itum13c","updated":"20230625001922"},"Children":[{"ID":"20230625003224-01ug1oq","Type":"NodeParagraph","Properties":{"id":"20230625003224-01ug1oq","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"保存你的修改"}]}]},{"ID":"20230625003224-7hzmm2s","Type":"NodeListItem","ListData":{"Typ":1,"Delimiter":46,"Marker":"My4=","Num":3},"Properties":{"id":"20230625003224-7hzmm2s","updated":"20230625001922"},"Children":[{"ID":"20230625003224-qgexlmy","Type":"NodeParagraph","Properties":{"id":"20230625003224-qgexlmy","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"reset本地分支"}]}]}]},{"ID":"20230625003224-ofgz6sz","Type":"NodeParagraph","Properties":{"id":"20230625003224-ofgz6sz","updated":"20230625001922"}},{"ID":"20230625003224-4tmm4ls","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230625003224-4tmm4ls","updated":"20230625001954"},"Children":[{"Type":"NodeText","Data":"Git Revert"}]},{"ID":"20230625003224-4o6bzv9","Type":"NodeParagraph","Properties":{"id":"20230625003224-4o6bzv9","updated":"20230625001956"},"Children":[{"Type":"NodeText","Data":"同样可以使用revert来撤销修改，但是它和reset有不同的地方。"}]},{"ID":"20230625003224-ynprg7g","Type":"NodeParagraph","Properties":{"id":"20230625003224-ynprg7g","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Revert会添加一个新的提交，将要撤销的提交中的修改再改回来。即把之前改的再改回来。"}]},{"ID":"20230625003224-97dy3qv","Type":"NodeParagraph","Properties":{"id":"20230625003224-97dy3qv","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230624231338-orawv5w.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20230625003224-uursn29","Type":"NodeParagraph","Properties":{"id":"20230625003224-uursn29","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Revert会在提交历史中保留之前的坏提交和之后的撤销提交的记录。"}]},{"ID":"20230625003224-s736mho","Type":"NodeParagraph","Properties":{"id":"20230625003224-s736mho","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"可以使用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"$ git revert main~3"},{"Type":"NodeText","Data":"​来撤销不知道哈希值的提交，这个例子表示撤销main分支上head之后的第3个提交。"}]},{"ID":"20230625003224-bzprvie","Type":"NodeParagraph","Properties":{"id":"20230625003224-bzprvie","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"也可以使用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"$ git revert HEAD~7..HEAD~3"},{"Type":"NodeText","Data":"​来撤销区间内的提交，这个例子表示撤销[HEAD"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeBackslashContent","Data":"~"}]},{"Type":"NodeText","Data":"7--HEAD"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeBackslashContent","Data":"~"}]},{"Type":"NodeText","Data":"3]之间的提交，包括HEAD"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeBackslashContent","Data":"~"}]},{"Type":"NodeText","Data":"7和HEAD"},{"Type":"NodeBackslash","Data":"span","Children":[{"Type":"NodeBackslashContent","Data":"~"}]},{"Type":"NodeText","Data":"3。"}]},{"ID":"20230625003224-zr38ard","Type":"NodeParagraph","Properties":{"id":"20230625003224-zr38ard","updated":"20230625001922"}},{"ID":"20230625003224-air31kx","Type":"NodeParagraph","Properties":{"id":"20230625003224-air31kx","updated":"20230625002049"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"GIt Reset："}]},{"ID":"20230625003224-bpiok3j","Type":"NodeParagraph","Properties":{"id":"20230625003224-bpiok3j","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"Reset是将HEAD指针向前移动。"}]},{"ID":"20230625003224-0a9zxwd","Type":"NodeParagraph","Properties":{"id":"20230625003224-0a9zxwd","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20230624232617-684w2an.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20230625003224-bv12qla","Type":"NodeParagraph","Properties":{"id":"20230625003224-bv12qla","updated":"20230625001922"},"Children":[{"Type":"NodeText","Data":"它会修改仓库提交历史。相当于被撤销的提交没有存在过。因此在本地仓库中为了分支树的整洁，可以使用reset，但是在远端最好还是使用revert来撤销修改。"}]},{"ID":"20230625003224-zasgkuy","Type":"NodeParagraph","Properties":{"id":"20230625003224-zasgkuy","updated":"20230625002141"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color12);"},"TextMarkType":"text","TextMarkTextContent":"Git Reset并不是物理删除，因此还可以通过哈希值找回被撤销的提交。"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color12);\"}"}]},{"ID":"20230625003224-wu3liee","Type":"NodeParagraph","Properties":{"id":"20230625003224-wu3liee"}},{"ID":"20230625003224-20uj244","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20230625003224-20uj244","updated":"20230625002518"},"Children":[{"Type":"NodeText","Data":"参考资料"}]},{"ID":"20230625003224-us83yg8","Type":"NodeParagraph","Properties":{"id":"20230625003224-us83yg8","updated":"20230625002525"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://zhuanlan.zhihu.com/p/137856034","TextMarkTextContent":"拜托，不要再问我Git如何回滚代码 - 知乎 (zhihu.com)"}]},{"ID":"20230625003224-3su6g1w","Type":"NodeParagraph","Properties":{"id":"20230625003224-3su6g1w","updated":"20230625002532"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://acompiler.com/git-head/#tve-jump-17716bbef78","TextMarkTextContent":"Git HEAD: The Definitive \u0026amp; Easy Guide (in 2021) - aCompiler"}]}]}