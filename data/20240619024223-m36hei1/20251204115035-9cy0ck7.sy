{"ID":"20251204115035-9cy0ck7","Spec":"2","Type":"NodeDocument","Properties":{"id":"20251204115035-9cy0ck7","title":"Unity Odin的Inspector面板显示","type":"doc","updated":"20260209142400"},"Children":[{"ID":"20251204143810-vhegncn","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20251204143810-vhegncn","updated":"20251204153922"},"Children":[{"Type":"NodeText","Data":"自动显示"}]},{"ID":"20251204153841-2l99gw4","Type":"NodeParagraph","Properties":{"id":"20251204153841-2l99gw4","updated":"20251204153841"},"Children":[{"Type":"NodeText","Data":"Unity内置序列化只支持"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color1);"},"TextMarkType":"strong text","TextMarkTextContent":"public字段"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color1);\"}"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color1);"},"TextMarkType":"strong text","TextMarkTextContent":"[SerializeField]字段"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color1);\"}"},{"Type":"NodeText","Data":"，不支持属性、静态字段、只读字段。在自定义脚本中只要是public或SerializeField字段就可以自动显示"}]},{"ID":"20251204153920-wzz6emz","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20251204153920-wzz6emz","updated":"20251204170247"},"Children":[{"Type":"NodeText","Data":"手动显示"}]},{"ID":"20251204153808-x1otgh9","Type":"NodeParagraph","Properties":{"id":"20251204153808-x1otgh9","updated":"20251204165528"},"Children":[{"Type":"NodeText","Data":"如果要显示Unity不支持的字段或属性，需要创建Editor脚本手动绘制。给这个类添加特性[CustomEditor]，继承Editor。重写OnInspectorGUI即可自定义绘制Inspector面板。如果没有重写则使用基类的空实现（什么也不显示）。如果重写则执行自定义的绘制逻辑。可以使用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"DrawDefaultInspector"},{"Type":"NodeText","Data":"​主动调用基类的绘制。"}]},{"ID":"20251204165531-zecrru0","Type":"NodeParagraph","Properties":{"id":"20251204165531-zecrru0","updated":"20251204165859"},"Children":[{"Type":"NodeText","Data":"需要注意的是："},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Unity的内置脚本例如Image、Slider、ScrollView等通过继承新增的字段不会自动显示，必须编写一个Editor脚本才能显示出来。且会直接显示到所有原生属性的最后，无法通过重写OnInspectorGUI调整位置，而且会显示所有原生隐藏的字段（没有用）。如果在OnInspectorGUI中重写，那么会出现2个一样的字段。"}]},{"ID":"20251204162957-7h152m3","Type":"NodeParagraph","Properties":{"id":"20251204162957-7h152m3","updated":"20251204170115"},"Children":[{"Type":"NodeText","Data":"解决方法：有些内置脚本如Slider可以改为继承SliderEditor，在OnInspectorGUI脚本中先base.OnInspectorGUI绘制原生的字段，再添加新增的字段。这种方法也不会显示原生隐藏的字段。"}]},{"ID":"20251204170117-xpbi91h","Type":"NodeParagraph","Properties":{"id":"20251204170117-xpbi91h","updated":"20251204170247"},"Children":[{"Type":"NodeText","Data":"但有些内置脚本如ScrollView没有特定的ScrollViewEditor，那么就只能手动在OnInspectorGUI中全部重新绘制了。建议可以的话改为新建自定义脚本，通过组合ScrollView来实现扩展"}]},{"ID":"20251204163117-hblga2k","Type":"NodeParagraph","Properties":{"id":"20251204163117-hblga2k","updated":"20251204163117"}},{"ID":"20251204163117-zdpoapv","Type":"NodeParagraph","Properties":{"id":"20251204163117-zdpoapv","updated":"20251204163117"}},{"ID":"20251204162957-zyl6z4f","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20251204162957-zyl6z4f","updated":"20251204172603"},"Children":[{"Type":"NodeText","Data":"Inspector面板绘制"}]},{"ID":"20251204143942-qhbxdn6","Type":"NodeParagraph","Properties":{"id":"20251204143942-qhbxdn6","updated":"20251204144003"},"Children":[{"Type":"NodeText","Data":"Unity默认的Inspector绘制流程"}]},{"ID":"20251204144006-ufnnkyo","Type":"NodeList","ListData":{},"Properties":{"id":"20251204144006-ufnnkyo","updated":"20251204144009"},"Children":[{"ID":"20251204144009-k1jy7ms","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204144009-k1jy7ms","updated":"20251204144009"},"Children":[{"ID":"20251204144009-3xsxooy","Type":"NodeParagraph","Properties":{"id":"20251204144009-3xsxooy","updated":"20251204144144"},"Children":[{"Type":"NodeText","Data":"序列化。扫描所有public和serializeField字段，生成序列化数据（二进制格式），存储在场景\\预制体中"}]}]},{"ID":"20251204144144-yf7ovl9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204144144-yf7ovl9","updated":"20251204144144"},"Children":[{"ID":"20251204144144-v3dmc1t","Type":"NodeParagraph","Properties":{"id":"20251204144144-v3dmc1t","updated":"20251204144235"},"Children":[{"Type":"NodeText","Data":"反序列化（加载时）。从文件读取数据，创建对象实例，填充字段值。"}]}]},{"ID":"20251204144239-25ytrbs","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204144239-25ytrbs","updated":"20251204144239"},"Children":[{"ID":"20251204144239-lu225to","Type":"NodeParagraph","Properties":{"id":"20251204144239-lu225to","updated":"20251204144508"},"Children":[{"Type":"NodeText","Data":"Inspector绘制。使用反射获取字段列表，按声明顺序绘制字段，应用特性[Range,Header等]，处理HideInInspector标记"}]}]}]},{"ID":"20251204154104-p3r4ebg","Type":"NodeParagraph","Properties":{"id":"20251204154104-p3r4ebg","updated":"20251204154118"},"Children":[{"Type":"NodeText","Data":"Unity自定义Editor绘制流程"}]},{"ID":"20251204154119-la13yz3","Type":"NodeList","ListData":{},"Properties":{"id":"20251204154119-la13yz3","updated":"20251204163224"},"Children":[{"ID":"20251204163031-djhy0rc","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204163031-djhy0rc","updated":"20251204163031"},"Children":[{"ID":"20251204163031-b4e8abk","Type":"NodeParagraph","Properties":{"id":"20251204163031-b4e8abk","updated":"20251204163032"},"Children":[{"Type":"NodeText","Data":"在Editor文件夹下创建一个脚本，给这个类添加特性[CustomEditor]，继承Editor"}]}]},{"ID":"20251204154120-zmhds3l","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204154120-zmhds3l","updated":"20251204154120"},"Children":[{"ID":"20251204154120-uzof9b6","Type":"NodeParagraph","Properties":{"id":"20251204154120-uzof9b6","updated":"20251204163030"},"Children":[{"Type":"NodeText","Data":"检测到CustomEditor特性，查找匹配的Editor类并创建实例。"}]}]},{"ID":"20251204154134-2ssg76e","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204154134-2ssg76e","updated":"20251204154134"},"Children":[{"ID":"20251204154134-6x65j9e","Type":"NodeParagraph","Properties":{"id":"20251204154134-6x65j9e","updated":"20251204154345"},"Children":[{"Type":"NodeText","Data":"调用OnInspectorGUI。如果没有重写则使用基类的空实现（什么也不显示）。如果重写则执行自定义的绘制逻辑"}]}]},{"ID":"20251204154233-wl2ovqq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204154233-wl2ovqq","updated":"20251204154233"},"Children":[{"ID":"20251204154233-4q2fbfy","Type":"NodeParagraph","Properties":{"id":"20251204154233-4q2fbfy","updated":"20251204154336"},"Children":[{"Type":"NodeText","Data":"调用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"DrawDefaultInspector"},{"Type":"NodeText","Data":"​主动调用基类的绘制"}]}]},{"ID":"20251204163144-dodxcu8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204163144-dodxcu8","updated":"20251204163224"},"Children":[{"ID":"20251204163144-a3ogl9e","Type":"NodeParagraph","Properties":{"id":"20251204163144-a3ogl9e","updated":"20251204163224"},"Children":[{"Type":"NodeText","Data":"自定义Editor只影响显示，不改变序列化机制，数据仍然按原来的规则存储"}]}]}]},{"ID":"20251204154412-2qqkvkt","Type":"NodeParagraph","Properties":{"id":"20251204154412-2qqkvkt","updated":"20251204154412"}},{"ID":"20251204170302-0l00ea0","Type":"NodeParagraph","Properties":{"id":"20251204170302-0l00ea0","updated":"20251204170302"}},{"ID":"20251204172559-rfodqne","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20251204172559-rfodqne","updated":"20251204174217"},"Children":[{"Type":"NodeText","Data":"Unity原生可序列化字段"}]},{"ID":"20251204172624-e2txyjy","Type":"NodeParagraph","Properties":{"id":"20251204172624-e2txyjy","updated":"20251204172657"},"Children":[{"Type":"NodeText","Data":"Unity可以序列化"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"大部分基本数据类型"},{"Type":"NodeText","Data":"和"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Unity 特定的组件类型"},{"Type":"NodeText","Data":"，包括："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"float"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​ 等基本类型，以及 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Vector3"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Quaternion"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Color"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GameObject"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Material"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Texture2D"},{"Type":"NodeText","Data":"​ 和许多其他派生自 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"UnityEngine.Object"},{"Type":"NodeText","Data":"​ 的类。它还支持自定义类的实例，前提是这些类是可序列化的（标记为 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[System.Serializable]"},{"Type":"NodeText","Data":"​）且"},{"Type":"NodeTextMark","TextMarkType":"mark strong","TextMarkTextContent":"成员字段"},{"Type":"NodeText","Data":"是可序列化的类型。"}]},{"ID":"20251204172806-rjohc7u","Type":"NodeParagraph","Properties":{"id":"20251204172806-rjohc7u","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"支持的字段类型"}]},{"ID":"20251204172806-lvw9mme","Type":"NodeList","ListData":{},"Properties":{"id":"20251204172806-lvw9mme","updated":"20251204172911"},"Children":[{"ID":"20251204172806-750hmy8","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-750hmy8","updated":"20251204172806"},"Children":[{"ID":"20251204172806-mvauv2b","Type":"NodeParagraph","Properties":{"id":"20251204172806-mvauv2b","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"基本数据类型"},{"Type":"NodeText","Data":"​："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"float"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"double"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"bool"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20251204172806-8mlek25","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-8mlek25","updated":"20251204172806"},"Children":[{"ID":"20251204172806-j6kfsyb","Type":"NodeParagraph","Properties":{"id":"20251204172806-j6kfsyb","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"Unity 特有组件和对象"},{"Type":"NodeText","Data":"​："}]},{"ID":"20251204172806-gh8ywla","Type":"NodeList","ListData":{},"Properties":{"id":"20251204172806-gh8ywla","updated":"20251204172806"},"Children":[{"ID":"20251204172806-fka135c","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-fka135c","updated":"20251204172806"},"Children":[{"ID":"20251204172806-l5ez9bb","Type":"NodeParagraph","Properties":{"id":"20251204172806-l5ez9bb","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"向量和四元数："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Vector2"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Vector3"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Vector4"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Quaternion"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20251204172806-6alztaq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-6alztaq","updated":"20251204172806"},"Children":[{"ID":"20251204172806-r77atu7","Type":"NodeParagraph","Properties":{"id":"20251204172806-r77atu7","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"颜色："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Color"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Color32"},{"Type":"NodeText","Data":"​"}]}]},{"ID":"20251204172806-b2fg3qw","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-b2fg3qw","updated":"20251204172806"},"Children":[{"ID":"20251204172806-6k2qb32","Type":"NodeParagraph","Properties":{"id":"20251204172806-6k2qb32","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"其他对象："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GameObject"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Transform"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Material"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Texture2D"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Sprite"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"AnimationClip"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"AudioClip"},{"Type":"NodeText","Data":"​ 等"}]}]}]}]},{"ID":"20251204172806-nq2l4gb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-nq2l4gb","updated":"20251204172911"},"Children":[{"ID":"20251204172806-7y13uml","Type":"NodeParagraph","Properties":{"id":"20251204172806-7y13uml","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"集合类型"},{"Type":"NodeText","Data":"​："}]},{"ID":"20251204172806-7yj8las","Type":"NodeList","ListData":{},"Properties":{"id":"20251204172806-7yj8las","updated":"20251204172911"},"Children":[{"ID":"20251204172806-5wfs4va","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-5wfs4va","updated":"20251204172806"},"Children":[{"ID":"20251204172806-phfbzi1","Type":"NodeParagraph","Properties":{"id":"20251204172806-phfbzi1","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"数组："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"int[]"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"string[]"},{"Type":"NodeText","Data":"​ 等"}]}]},{"ID":"20251204172806-owj556u","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-owj556u","updated":"20251204172806"},"Children":[{"ID":"20251204172806-b1qhvjq","Type":"NodeParagraph","Properties":{"id":"20251204172806-b1qhvjq","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"列表："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"List\u0026lt;int\u0026gt;"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"List\u0026lt;string\u0026gt;"},{"Type":"NodeText","Data":"​ 等"}]}]},{"ID":"20251204172806-3n4fxzd","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-3n4fxzd","updated":"20251204172806"},"Children":[{"ID":"20251204172806-fdes1nk","Type":"NodeParagraph","Properties":{"id":"20251204172806-fdes1nk","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"字典："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Dictionary"},{"Type":"NodeText","Data":"​ 默认不支持直接序列化，但可以使用自定义的序列化方法。"}]}]},{"ID":"20251204172844-xsb5fhb","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172844-xsb5fhb","updated":"20251204172911"},"Children":[{"ID":"20251204172844-25xexg8","Type":"NodeParagraph","Properties":{"id":"20251204172844-25xexg8","updated":"20251204172911"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color1);"},"TextMarkType":"strong text","TextMarkTextContent":"集合的成员字段也必须是可序列化的类型！"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color1);\"}"}]}]}]}]},{"ID":"20251204172806-fn5xjlk","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-fn5xjlk","updated":"20251204172806"},"Children":[{"ID":"20251204172806-00ui1qi","Type":"NodeParagraph","Properties":{"id":"20251204172806-00ui1qi","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"自定义类和结构体"},{"Type":"NodeText","Data":"​："}]},{"ID":"20251204172806-6wxwydu","Type":"NodeList","ListData":{},"Properties":{"id":"20251204172806-6wxwydu","updated":"20251204172806"},"Children":[{"ID":"20251204172806-o9lnpth","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-o9lnpth","updated":"20251204172806"},"Children":[{"ID":"20251204172806-nd4qvqh","Type":"NodeParagraph","Properties":{"id":"20251204172806-nd4qvqh","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"自定义的类或结构体需要使用 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[System.Serializable]"},{"Type":"NodeText","Data":"​ 属性标记，并且其内部的字段也必须是可序列化类型。"}]}]},{"ID":"20251204172806-zd78mzd","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-zd78mzd","updated":"20251204172806"},"Children":[{"ID":"20251204172806-6hlh5uw","Type":"NodeParagraph","Properties":{"id":"20251204172806-6hlh5uw","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"枚举（"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"enum"},{"Type":"NodeText","Data":"​）也可以在 Inspector 中显示和序列化。"}]}]}]}]}]},{"ID":"20251204172806-2zlvrzu","Type":"NodeParagraph","Properties":{"id":"20251204172806-2zlvrzu","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"注意事项"}]},{"ID":"20251204172806-vbt31ms","Type":"NodeList","ListData":{},"Properties":{"id":"20251204172806-vbt31ms","updated":"20251204172806"},"Children":[{"ID":"20251204172806-t1lzycf","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-t1lzycf","updated":"20251204172806"},"Children":[{"ID":"20251204172806-pgc926k","Type":"NodeParagraph","Properties":{"id":"20251204172806-pgc926k","updated":"20251204172806"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"不可序列化的类型"},{"Type":"NodeText","Data":"​：像 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"delegate"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"static"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"const"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"readonly"},{"Type":"NodeText","Data":"​ 等关键字修饰的字段，以及其他不支持序列化的特定类型（如 "},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Dictionary"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"FileStream"},{"Type":"NodeText","Data":"​ 等），在 Inspector 中是不可见的。"}]}]},{"ID":"20251204172806-jiend3t","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204172806-jiend3t","updated":"20251204172806"},"Children":[{"ID":"20251204172806-y3wz53u","Type":"NodeParagraph","Properties":{"id":"20251204172806-y3wz53u","updated":"20251204172806"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"对象引用"},{"Type":"NodeText","Data":"："},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"GameObject"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Material"},{"Type":"NodeText","Data":"​、"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Texture2D"},{"Type":"NodeText","Data":"​ 等类型在 Inspector 中会显示为对象引用槽，可以直接从项目视图中拖拽资源到这些槽中进行赋值。"}]}]}]},{"ID":"20251204174153-hjl9imt","Type":"NodeParagraph","Properties":{"id":"20251204174153-hjl9imt","updated":"20251204174153"}},{"ID":"20251204174217-55h57o7","Type":"NodeParagraph","Properties":{"id":"20251204174217-55h57o7","updated":"20251204174217"}},{"ID":"20251204174154-r8dpism","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20251204174154-r8dpism","updated":"20251204200806"},"Children":[{"Type":"NodeText","Data":"Odin可序列化字段"}]},{"ID":"20251204174204-c50axh5","Type":"NodeParagraph","Properties":{"id":"20251204174204-c50axh5","updated":"20251204175137"},"Children":[{"Type":"NodeText","Data":"Odin可以序列化所有Unity原生支持的类型以及Dictionary等泛型类型（即使成员字段不是可序列化类型也可以）"}]},{"ID":"20251204172832-8jhkufp","Type":"NodeParagraph","Properties":{"id":"20251204172832-8jhkufp","updated":"20251204175347"},"Children":[{"Type":"NodeText","Data":"Odin除了支持序列化的类型多以外，还提供了很多特性可以便捷的序列化字段而不需要编写更多代码。"}]},{"ID":"20251204195818-c5z3188","Type":"NodeParagraph","Properties":{"id":"20251204195818-c5z3188","updated":"20251204200420"},"Children":[{"Type":"NodeTextMark","Properties":{"style":"color: var(--b3-font-color1);"},"TextMarkType":"strong text","TextMarkTextContent":"当自定义脚本继承自Unity内置脚本例如Image、ScrollRect等时，无法使用Odin序列化新增的字段，必须新增Editor脚本来手动绘制"},{"Type":"NodeKramdownSpanIAL","Data":"{: style=\"color: var(--b3-font-color1);\"}"}]},{"ID":"20251204175348-fetjx3q","Type":"NodeParagraph","Properties":{"id":"20251204175348-fetjx3q","updated":"20251204175437"},"Children":[{"Type":"NodeText","Data":"使用时如果继承的是"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"MonoBehaviour"},{"Type":"NodeText","Data":"​，那么只需要改为"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SerializedMonoBehaviour"},{"Type":"NodeText","Data":"​即可。"}]},{"ID":"20251204175458-n3puavz","Type":"NodeBlockquote","Properties":{"id":"20251204175458-n3puavz","updated":"20251204175458"},"Children":[{"Type":"NodeBlockquoteMarker","Data":"\u003e"},{"ID":"20251204175458-cahqspi","Type":"NodeParagraph","Properties":{"id":"20251204175458-cahqspi","updated":"20251204175458"},"Children":[{"Type":"NodeText","Data":"对应"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"SerializedMonoBehaviour"},{"Type":"NodeText","Data":"​这类Odin序列化类，总共有以下7种，足以满足日常开发中的绝大多数需求"}]}]},{"ID":"20251204175458-3dro1wo","Type":"NodeList","ListData":{},"Properties":{"id":"20251204175458-3dro1wo","updated":"20251204175458"},"Children":[{"ID":"20251204175458-j8fi4hl","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204175458-j8fi4hl","updated":"20251204175458"},"Children":[{"ID":"20251204175458-75pj3xj","Type":"NodeParagraph","Properties":{"id":"20251204175458-75pj3xj","updated":"20251204175458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SerializedMonoBehaviour"}]}]},{"ID":"20251204175458-qqqx3ma","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204175458-qqqx3ma","updated":"20251204175458"},"Children":[{"ID":"20251204175458-num9r4u","Type":"NodeParagraph","Properties":{"id":"20251204175458-num9r4u","updated":"20251204175458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SerializedBehaviour"}]}]},{"ID":"20251204175458-sofo1ct","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204175458-sofo1ct","updated":"20251204175458"},"Children":[{"ID":"20251204175458-jjc5nto","Type":"NodeParagraph","Properties":{"id":"20251204175458-jjc5nto","updated":"20251204175458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SerializedComponent"}]}]},{"ID":"20251204175458-woamrnq","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204175458-woamrnq","updated":"20251204175458"},"Children":[{"ID":"20251204175458-c3mg9dy","Type":"NodeParagraph","Properties":{"id":"20251204175458-c3mg9dy","updated":"20251204175458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SerializedNetworkBehaviour"}]}]},{"ID":"20251204175458-r327yq1","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204175458-r327yq1","updated":"20251204175458"},"Children":[{"ID":"20251204175458-7u2wxjg","Type":"NodeParagraph","Properties":{"id":"20251204175458-7u2wxjg","updated":"20251204175458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SerializedScriptableObject"}]}]},{"ID":"20251204175458-ihulgv9","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204175458-ihulgv9","updated":"20251204175458"},"Children":[{"ID":"20251204175458-7rvf0v3","Type":"NodeParagraph","Properties":{"id":"20251204175458-7rvf0v3","updated":"20251204175458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SerializedStateMachineBehaviour"}]}]},{"ID":"20251204175458-7iex5ue","Type":"NodeListItem","ListData":{"BulletChar":42,"Marker":"Kg=="},"Properties":{"id":"20251204175458-7iex5ue","updated":"20251204175458"},"Children":[{"ID":"20251204175458-nkdu5lz","Type":"NodeParagraph","Properties":{"id":"20251204175458-nkdu5lz","updated":"20251204175458"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"SerializedUnityObject"}]}]}]},{"ID":"20251204172832-qsu9wkv","Type":"NodeParagraph","Properties":{"id":"20251204172832-qsu9wkv","updated":"20251204172832"}},{"ID":"20251204175506-ac33cky","Type":"NodeParagraph","Properties":{"id":"20251204175506-ac33cky","updated":"20251204180920"},"Children":[{"Type":"NodeText","Data":"Odin的序列化并不是强制替换原生的Unity序列化。实际上默认情况下仍然由Unity进行序列化，只有当Unity不支持时才会转由Odin序列化接手。"}]},{"ID":"20251204175709-aym7dbx","Type":"NodeParagraph","Properties":{"id":"20251204175709-aym7dbx","updated":"20251204175805"},"Children":[{"Type":"NodeText","Data":"但是要注意的是：我们可以强制使用Odin序列化，或者强制让Unity序列化和Odin序列化并存（会出现2份数据）"}]},{"ID":"20251204175808-riahap3","Type":"NodeParagraph","Properties":{"id":"20251204175808-riahap3","updated":"20251204175828"},"Children":[{"Type":"NodeText","Data":"示例："}]},{"ID":"20251204175851-d18uont","Type":"NodeCodeBlock","IsFencedCodeBlock":true,"Properties":{"id":"20251204175851-d18uont","style":"line-height: 22px;","updated":"20251204175906"},"Children":[{"Type":"NodeCodeBlockFenceOpenMarker","Data":"```"},{"Type":"NodeCodeBlockFenceInfoMarker","CodeBlockInfo":"QyM="},{"Type":"NodeCodeBlockCode","Data":"public class ExampleOdinSerializedScript : SerializedMonoBehaviour\n{\n    // 使用Odin序列化，而非Unity序列化\n    public Dictionary firstDictionary= new Dictionary();\n\n    // MyClassByUnity 因为标记为 Serializable ,所以使用Unity 自带的序列化，而非Odin 序列化\n    public MyClassByUnity myUnityReference = new MyClassByUnity();\n\n    //强制使用 Odin 序列化，而不使用Unity的序列化\n    [NonSerialized, OdinSerialize]\n    public MyClassByOdin myOdinReference = new MyClassByOdin();\n\n    private void Start()\n    {\n        Debug.Log(firstDictionary.Count);\n        Debug.Log(myUnityReference.secondDictionary_Unity.Count);\n        Debug.Log(myOdinReference.secondDictionary_Odin.Count);\n    }\n\n}\n\n[Serializable]\npublic class MyClassByUnity\n{\n    // 虽然标记为 OdinSerialize 特性, 但是依然不会被序列化\n    [OdinSerialize]\n    public Dictionary secondDictionary_Unity = new Dictionary();\n}\n\n[Serializable]\npublic class MyClassByOdin\n{\n    [OdinSerialize]\n    [NonSerialized]\n    public Dictionary secondDictionary_Odin= new Dictionary();\n}\n"},{"Type":"NodeCodeBlockFenceCloseMarker","Data":"```"}]},{"ID":"20251204175507-wj06x9b","Type":"NodeParagraph","Properties":{"id":"20251204175507-wj06x9b","updated":"20251204180049"},"Children":[{"Type":"NodeText","Data":"​"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20251204180049-z08fnhk.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20251204180053-dgbxtui","Type":"NodeParagraph","Properties":{"id":"20251204180053-dgbxtui","updated":"20251204180104"},"Children":[{"Type":"NodeText","Data":"成员变量"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"firstDictionary"},{"Type":"NodeText","Data":"​是Unity不支持的"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Dictionary"},{"Type":"NodeText","Data":"​类型，所以默认使用Oidn 序列化，如果强行标记"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Serializable"},{"Type":"NodeText","Data":"​特性会出现如下报错"},{"Type":"NodeImage","Data":"span","Children":[{"Type":"NodeBang"},{"Type":"NodeOpenBracket"},{"Type":"NodeLinkText","Data":"image"},{"Type":"NodeCloseBracket"},{"Type":"NodeOpenParen"},{"Type":"NodeLinkDest","Data":"assets/image-20251204180104-067hp0k.png"},{"Type":"NodeCloseParen"}]},{"Type":"NodeText","Data":"​"}]},{"ID":"20251204180053-krdvwux","Type":"NodeParagraph","Properties":{"id":"20251204180053-krdvwux","updated":"20251204180227"},"Children":[{"Type":"NodeText","Data":"成员变量"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"MyUnityReference"},{"Type":"NodeText","Data":"​是MyClassByUnity类型，在"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"MyClassByUnity"},{"Type":"NodeText","Data":"​类中对应的成员SecondDictionary_Unity标记特性"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"OdinSerialize"},{"Type":"NodeText","Data":"​,按常理"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"secondDictionary_Unity"},{"Type":"NodeText","Data":"​字段会使用Odin序列化，但是"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"MyClassByUnity"},{"Type":"NodeText","Data":"​类标记了"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"Serializable"},{"Type":"NodeText","Data":"​特性，所以"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"MyClassByUnity"},{"Type":"NodeText","Data":"​会按照Unity序列化的方式，又因为MyClassByUnity为Unity序列化不支持的类，所以直接跳过。类似一个for循环中，在索引"},{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"0"},{"Type":"NodeText","Data":"处执行break，后面的数据不会遍历一样"}]},{"ID":"20251204180247-c3psus5","Type":"NodeParagraph","Properties":{"id":"20251204180247-c3psus5","updated":"20251204180247"},"Children":[{"Type":"NodeText","Data":"为了避免上面的情况发生，我们使用"},{"Type":"NodeTextMark","TextMarkType":"code","TextMarkTextContent":"[NonSerialized, OdinSerialize]"},{"Type":"NodeText","Data":"​两个特性，这是告诉编辑器，拒绝使用Unity原有的序列化，而是强制使用Odin自带的序列化系统，这样，上面的问题就可迎刃而解。"}]},{"ID":"20251204180054-n53yp63","Type":"NodeParagraph","Properties":{"id":"20251204180054-n53yp63","updated":"20251204180054"}},{"ID":"20251204180054-v098p8z","Type":"NodeParagraph","Properties":{"id":"20251204180054-v098p8z","updated":"20251204200806"},"Children":[{"Type":"NodeTextMark","TextMarkType":"strong","TextMarkTextContent":"需要注意：如果自定义脚本继承自SerializedMonoBehaviour，并且添加Editor脚本，那么Editor脚本需要继承OdinEditor"}]},{"ID":"20251204180333-g5iq0ut","Type":"NodeParagraph","Properties":{"id":"20251204180333-g5iq0ut","updated":"20251204180333"}},{"ID":"20251204180333-7g5c16l","Type":"NodeParagraph","Properties":{"id":"20251204180333-7g5c16l","updated":"20251204180333"}},{"ID":"20251204180333-6wfh7h1","Type":"NodeParagraph","Properties":{"id":"20251204180333-6wfh7h1","updated":"20251204180333"}},{"ID":"20251204180334-s1wuz9f","Type":"NodeHeading","HeadingLevel":2,"Properties":{"id":"20251204180334-s1wuz9f","updated":"20251204180356"},"Children":[{"Type":"NodeText","Data":"引用"}]},{"ID":"20251204180341-31i4g1c","Type":"NodeParagraph","Properties":{"id":"20251204180341-31i4g1c","updated":"20251204180356"},"Children":[{"Type":"NodeTextMark","TextMarkType":"a","TextMarkAHref":"https://aihailan.com/archives/496","TextMarkTextContent":"https://aihailan.com/archives/496"}]}]}